<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Monstruo Come Hamburguesas - Naturaleza</title>
<style>
  body {
    margin: 0;
    font-family: 'Comic Sans MS', sans-serif;
    background: linear-gradient(to top, #a8e6cf, #dcedc1);
    display: flex;
    flex-direction: column;
    align-items: center;
    touch-action: none; /* Evita scroll por gestos */
  }

  header {
    background: rgba(34, 139, 34, 0.9);
    color: white;
    text-align: center;
    padding: 20px;
    font-size: 2em;
    font-weight: bold;
    width: 100%;
  }

  h1 {
    color: #ff4500;
    text-shadow: 2px 2px #fff;
    margin-top: 0;
  }

  .container {
    max-width: 900px;
    width: 90%;
    margin: 20px auto;
    padding: 20px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 15px;
    box-shadow: 0 8px 16px rgba(0,0,0,0.2);
  }

  #gameContainer {
    position: relative;
    width: 100%;
    max-width: 800px;
    height: 45vw;
    max-height: 400px;
    border: 3px solid #333;
    background: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=1080') no-repeat center/cover;
    overflow: hidden;
    border-radius: 10px;
    margin: 0 auto;
  }

  #monster {
    position: absolute;
    width: 8%;
    max-width: 60px;
    aspect-ratio: 1/1;
    background: url('https://i.imgur.com/3NxnV5Y.png') no-repeat center/cover;
    top: 10%;
    left: 5%;
    transition: transform 0.1s;
  }

  .burger {
    position: absolute;
    width: 5%;
    max-width: 40px;
    aspect-ratio: 1/1;
    background: url('https://i.imgur.com/HH6L6qO.png') no-repeat center/cover;
    background-size: cover;
  }

  #score {
    margin-top: 15px;
    font-size: 1.2em;
    font-weight: bold;
    color: #228b22;
    text-align: center;
  }

  footer {
    text-align: center;
    padding: 15px;
    margin-top: 20px;
    background: rgba(34, 139, 34, 0.9);
    color: white;
    font-weight: bold;
    width: 100%;
  }

  @media(max-width: 850px) {
    #gameContainer {
      height: 50vw;
    }
  }
</style>
</head>
<body>

<header>
  Bienvenido a la Naturaleza
</header>

<div class="container">
  <h1>Monstruo Come Hamburguesas</h1>
  <div id="gameContainer">
    <div id="monster"></div>
  </div>
  <div id="score">Hamburguesas comidas: 0 | Nivel: 1</div>
</div>

<footer>
  &copy; 2025 - Naturaleza y Diversión
</footer>

<script>
const monster = document.getElementById('monster');
const gameContainer = document.getElementById('gameContainer');
const scoreDisplay = document.getElementById('score');

let score = 0;
let level = 1;
let speed = 5;
let burgers = [];

// Crear hamburguesa
function createBurger(x, y) {
  const burger = document.createElement('div');
  burger.classList.add('burger');
  burger.style.left = x + 'px';
  burger.style.top = y + 'px';
  gameContainer.appendChild(burger);
  burgers.push(burger);
}

// Colisión
function checkCollision(monster, item) {
  const mRect = monster.getBoundingClientRect();
  const iRect = item.getBoundingClientRect();
  return !(
    mRect.right < iRect.left ||
    mRect.left > iRect.right ||
    mRect.bottom < iRect.top ||
    mRect.top > iRect.bottom
  );
}

// Generar hamburguesas aleatorias
function spawnRandomBurger() {
  const x = Math.random() * (gameContainer.clientWidth - 40);
  const y = Math.random() * (gameContainer.clientHeight - 40);
  createBurger(x, y);
}

// Movimiento por teclado
let keys = {};
document.addEventListener('keydown', e => keys[e.key] = true);
document.addEventListener('keyup', e => keys[e.key] = false);

// Movimiento por touch
let touchStart = null;
gameContainer.addEventListener('touchstart', e => {
  touchStart = e.touches[0];
}, {passive: false});

gameContainer.addEventListener('touchmove', e => {
  if (!touchStart) return;
  e.preventDefault();
  const touch = e.touches[0];
  const dx = touch.clientX - touchStart.clientX;
  const dy = touch.clientY - touchStart.clientY;

  let left = monster.offsetLeft + dx * 0.5;
  let top = monster.offsetTop + dy * 0.5;

  left = Math.max(0, Math.min(gameContainer.clientWidth - monster.offsetWidth, left));
  top = Math.max(0, Math.min(gameContainer.clientHeight - monster.offsetHeight, top));

  monster.style.left = left + 'px';
  monster.style.top = top + 'px';

  touchStart = touch;
}, {passive: false});

gameContainer.addEventListener('touchend', e => {
  touchStart = null;
});

// Actualización del juego
function update() {
  let left = monster.offsetLeft;
  let top = monster.offsetTop;

  if(keys['ArrowLeft']) left -= speed;
  if(keys['ArrowRight']) left += speed;
  if(keys['ArrowUp']) top -= speed;
  if(keys['ArrowDown']) top += speed;

  if(keys['x']) speed = Math.min(speed + 0.05, 15);
  if(keys['c']) speed = Math.max(speed - 0.05, 1);

  left = Math.max(0, Math.min(gameContainer.clientWidth - monster.offsetWidth, left));
  top = Math.max(0, Math.min(gameContainer.clientHeight - monster.offsetHeight, top));
  monster.style.left = left + 'px';
  monster.style.top = top + 'px';

  burgers.forEach((burger, index) => {
    if(checkCollision(monster, burger)) {
      burger.remove();
      burgers.splice(index,1);
      score++;
      if(score % 5 === 0) level++;
      scoreDisplay.textContent = `Hamburguesas comidas: ${score} | Nivel: ${level}`;
    }
  });

  if(Math.random() < 0.01 * level) spawnRandomBurger();

  requestAnimationFrame(update);
}

// Inicializar hamburguesas
for(let i=0; i<10; i++){
  spawnRandomBurger();
}

update();
</script>

</body>
</html>
